<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" >

<title>堆 | Wased&#39;blog</title>

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="shortcut icon" href="https://alex030502.github.io/favicon.ico?v=1606658327123">
<link rel="stylesheet" href="https://alex030502.github.io/styles/main.css">


  
    <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css" />
  

  


<link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>



    <meta name="description" content="#堆(在完全二叉树上维护具有可重复贡献性的数据结构)
本质是依靠完全二叉树进行实现（及满足左子节点编号为父节点编号2，右子节点为父节点编号2+1
1.大根堆: 对于任意的父节点的值一定大于等于其子节点————&gt;任意节点一定是以它为根建..." />
    <meta name="keywords" content="" />
  </head>
  <body>
    <div id="app" class="main">

      <div class="sidebar" :class="{ 'full-height': menuVisible }">
  <div class="top-container" data-aos="fade-right">
    <div class="top-header-container">
      <a class="site-title-container" href="https://alex030502.github.io">
        <img src="https://alex030502.github.io/images/avatar.png?v=1606658327123" class="site-logo">
        <h1 class="site-title">Wased&#39;blog</h1>
      </a>
      <div class="menu-btn" @click="menuVisible = !menuVisible">
        <div class="line"></div>
      </div>
    </div>
    <div>
      
        
          <a href="/" class="site-nav">
            首页
          </a>
        
      
        
          <a href="/archives" class="site-nav">
            归档
          </a>
        
      
        
          <a href="/tags" class="site-nav">
            标签
          </a>
        
      
        
          <a href="/post/about" class="site-nav">
            关于
          </a>
        
      
    </div>
  </div>
  <div class="bottom-container" data-aos="flip-up" data-aos-offset="0">
    <div class="social-container">
      
        
      
        
      
        
      
        
      
        
      
    </div>
    <div class="site-description">
      I AK NOIP
    </div>
    <div class="site-footer">
      Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> | <a class="rss" href="https://alex030502.github.io/atom.xml" target="_blank">RSS</a>
    </div>
  </div>
</div>


      <div class="main-container">
        <div class="content-container" data-aos="fade-up">
          <div class="post-detail">
            <h2 class="post-title">堆</h2>
            <div class="post-date">2020-11-29</div>
            
            <div class="post-content" v-pre>
              <h1 id="堆在完全二叉树上维护具有可重复贡献性的数据结构">#堆(在完全二叉树上维护具有可重复贡献性的数据结构)</h1>
<p>本质是依靠完全二叉树进行实现（及满足左子节点编号为父节点编号<em>2，右子节点为父节点编号</em>2+1</p>
<p>1.大根堆: 对于任意的父节点的值一定大于等于其子节点————&gt;任意节点一定是以它为根建立的树的最大值</p>
<p>2.小根堆: 对于任意的父节点的值一定小于等于其子节点————&gt;任意节点一定是以它为根建立的树的最小值</p>
<p>que：（堆可做区间查询最值）</p>
<p>sol：堆没有进行维护堆中左右</p>
<p>操作:</p>
<p>1.put 向堆中加入元素</p>
<pre><code>1. 在堆尾加入一个元素并以这个结点为当前结点

2.比较当前结点和它父结点的大小，如果当前节点值小、大于父节点，则进行交换并把当前节点置为当前结点。重复执行2；

3，直到不满足结束
</code></pre>
<p>2.get 从堆中取出并删除根结点元素<br>
1.把堆中最后一个元素（及下标为len（堆中元素个数）的与父节点交换，个数-1<br>
2.把根节点置为当前父节点pa<br>
3.如果pa无孩子，则进行5，否则把pa的左右孩子中最小的哪一个置为当前子节点son<br>
4。比较pa与son的值，如果fa的值小于等于son，则转5，否则，把pa指向son转3<br>
5.结束</p>
<p>CODE:</p>
<pre><code class="language-cpp">#include&lt;iostream&gt;
using namespace std;
int heap[10001];
int len=0;
int t;

void put(int t1){
	heap[++len]=t;
	int son=len;
	int fa=son&gt;&gt;1;
	while(son&gt;1){
		fa=son&gt;&gt;1;
		if(heap[fa]&gt;heap[son]){
			heap[0]=heap[son];
			heap[son]=heap[fa];
			heap[fa]=heap[0];
			son=son&gt;&gt;1;
		}
		else return; 
	}	
}
void get(){
	heap[0]=heap[len];
	heap[len]=heap[1];
	heap[1]=heap[0];
	len--;
	int pa=1,son=pa&lt;&lt;1;
	int tmp1,tmp2;
	while(son&lt;=len){
		if(son==len) son=pa&lt;&lt;1;
		tmp1=heap[son];
		tmp2=heap[son+1];
		if(tmp1&gt;tmp2){
			son=son+1;
		}
		if(heap[pa]&gt;heap[son]){
			heap[0]=heap[son];
			heap[son]=heap[pa];
			heap[pa]=heap[0]; 
			pa=son;
			son=pa&lt;&lt;1; 
		} 
		else return;
	}
}
int main(){
	int n;
	cin&gt;&gt;n;
	for(int i=1;i&lt;=n;i++){
		cin&gt;&gt;t;
		put(t);
	}
	for(int i=1;i&lt;=n;i++){
		cout&lt;&lt;heap[1]&lt;&lt;&quot; &quot;;
		get();
	}
	return 0;
}
'''
</code></pre>

            </div>
            
            
              <div class="next-post">
                <div class="next">下一篇</div>
                <a href="https://alex030502.github.io/post/图/">
                  <h3 class="post-title">
                    图
                  </h3>
                </a>
              </div>
            

            
              
                <div id="gitalk-container" data-aos="fade-in"></div>
              

              
            

          </div>

        </div>
      </div>
    </div>

    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
<script type="application/javascript">

AOS.init();

var app = new Vue({
  el: '#app',
  data: {
    menuVisible: false,
  },
})

</script>


  <script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
  <script>
    hljs.initHighlightingOnLoad()
  </script>




  
    <script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
    <script>

      var gitalk = new Gitalk({
        clientID: '',
        clientSecret: '',
        repo: '',
        owner: '',
        admin: [''],
        id: (location.pathname).substring(0, 49),      // Ensure uniqueness and length less than 50
        distractionFreeMode: false  // Facebook-like distraction free mode
      })

      gitalk.render('gitalk-container')

    </script>
  

  




  </body>
</html>
